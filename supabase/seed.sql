-- ============================================================
-- Seed Data for legendary-recipes
-- Run this in the Supabase SQL Editor AFTER running schema.sql
-- Order: chefs → recipes → recipe_components → ingredients → collections → collection_recipes
-- ============================================================

-- ===== Chefs =====
INSERT INTO chefs (id, email, display_name, avatar_url, restaurant, country, bio, is_verified, membership_plan, follower_count) VALUES
  ('chef-1', 'rene@noma.dk', 'René Redzepi',
   'https://images.unsplash.com/photo-1577219491135-ce391730fb2c?w=200&h=200&fit=crop',
   'Noma', 'Denmark',
   'Pioneer of New Nordic cuisine. Three-time winner of The World''s 50 Best Restaurants.',
   TRUE, 'elite', 24500),
  ('chef-2', 'massimo@osteria.it', 'Massimo Bottura',
   'https://images.unsplash.com/photo-1581299894007-aaa50297cf16?w=200&h=200&fit=crop',
   'Osteria Francescana', 'Italy',
   'Chef-patron of Osteria Francescana. Blending tradition with avant-garde creativity.',
   TRUE, 'elite', 31200),
  ('chef-3', 'dominique@atelier.fr', 'Dominique Crenn',
   'https://images.unsplash.com/photo-1595257841889-eca2678571fa?w=200&h=200&fit=crop',
   'Atelier Crenn', 'France',
   'First female chef in the US to receive three Michelin stars. Poetic culinaria.',
   TRUE, 'elite', 18700),
  ('chef-4', 'yoshihiro@narisawa.jp', 'Yoshihiro Narisawa',
   'https://images.unsplash.com/photo-1600565193348-f74bd3c7ccdf?w=200&h=200&fit=crop',
   'Narisawa', 'Japan',
   'Known for "Innovative Satoyama Cuisine" bridging nature and gastronomy.',
   TRUE, 'pro', 15300),
  ('chef-5', 'ana@mugaritz.es', 'Andoni Luis Aduriz',
   'https://images.unsplash.com/photo-1583394293214-28ez924e867c?w=200&h=200&fit=crop',
   'Mugaritz', 'Spain',
   'Culinary philosopher pushing the boundaries of taste and texture at Mugaritz.',
   TRUE, 'pro', 12800);

-- ===== Recipes =====
INSERT INTO recipes (id, chef_id, title, description, hero_image_url, cuisine_type, season_tags, tier, access_level, prep_time_minutes, total_time_minutes, servings, likes_count, comments_count, is_published) VALUES
  ('recipe-1',  'chef-1', 'Forager''s Wild Herb Salad',
   'A celebration of Nordic terroir featuring 20+ hand-foraged herbs and flowers from the Danish countryside, dressed with a fermented plum vinaigrette.',
   'https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=800&h=500&fit=crop',
   'nordic', ARRAY['spring','summer'], 'legendary', 'free', 45, 60, 4, 1842, 234, TRUE),
  ('recipe-2',  'chef-1', 'Sea Urchin & Buttermilk',
   'Delicate sea urchin served on a bed of buttermilk snow with dill oil and crispy rye.',
   'https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=800&h=500&fit=crop',
   'nordic', ARRAY['winter'], 'top', 'pro', 30, 45, 2, 956, 87, TRUE),
  ('recipe-3',  'chef-2', 'Five Ages of Parmigiano Reggiano',
   'A legendary dish presenting Parmigiano Reggiano in five different textures and temperatures, from a 24-month foam to a 50-month crisp.',
   'https://images.unsplash.com/photo-1476124369491-e7addf5db371?w=800&h=500&fit=crop',
   'italian', ARRAY['all_season'], 'legendary', 'elite', 120, 180, 4, 2341, 312, TRUE),
  ('recipe-4',  'chef-2', 'Oops! I Dropped the Lemon Tart',
   'The iconic deconstructed lemon tart that turned a kitchen accident into culinary art.',
   'https://images.unsplash.com/photo-1519915028121-7d3463d20b13?w=800&h=500&fit=crop',
   'italian', ARRAY['all_season'], 'bocuse_collection', 'pro', 90, 150, 6, 3105, 445, TRUE),
  ('recipe-5',  'chef-3', 'Walking on the Ocean Floor',
   'A poetic seafood composition inspired by the depths of the Pacific, featuring abalone, sea vegetables, and coastal herbs.',
   'https://images.unsplash.com/photo-1535140728325-a4d3707eee61?w=800&h=500&fit=crop',
   'french', ARRAY['summer','autumn'], 'legendary', 'elite', 60, 90, 2, 1567, 198, TRUE),
  ('recipe-6',  'chef-3', 'Brioche Feuilletée',
   'A fusion of brioche and croissant techniques creating an impossibly flaky, buttery bread.',
   'https://images.unsplash.com/photo-1509440159596-0249088772ff?w=800&h=500&fit=crop',
   'french', ARRAY['all_season'], 'featured', 'free', 180, 360, 8, 2890, 567, TRUE),
  ('recipe-7',  'chef-4', 'Soil of the Forest',
   'Narisawa''s signature dish representing the Japanese forest floor using burdock root cooked in actual soil.',
   'https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=800&h=500&fit=crop',
   'japanese', ARRAY['autumn'], 'legendary', 'elite', 90, 240, 4, 1923, 267, TRUE),
  ('recipe-8',  'chef-4', 'Sakura Masu with Cherry Blossom',
   'Spring cherry trout paired with preserved cherry blossoms, yuzu, and mountain herbs.',
   'https://images.unsplash.com/photo-1467003909585-2f8a72700288?w=800&h=500&fit=crop',
   'japanese', ARRAY['spring'], 'top', 'pro', 45, 75, 2, 1102, 145, TRUE),
  ('recipe-9',  'chef-5', 'Edible Stones',
   'Mugaritz''s famous edible stones - potatoes disguised as river pebbles with a kaolin clay coating.',
   'https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?w=800&h=500&fit=crop',
   'spanish', ARRAY['all_season'], 'bocuse_collection', 'pro', 120, 180, 4, 2456, 334, TRUE),
  ('recipe-10', 'chef-5', 'Burnt Onion Ash Broth',
   'A deeply umami broth made from charred onions, served with a delicate mushroom custard.',
   'https://images.unsplash.com/photo-1547592166-23ac45744acd?w=800&h=500&fit=crop',
   'spanish', ARRAY['winter','autumn'], 'featured', 'free', 60, 120, 4, 876, 102, TRUE),
  ('recipe-11', 'chef-2', 'Tortellini in Brodo',
   'Traditional Modenese tortellini in a crystal-clear capon broth, perfected over decades.',
   'https://images.unsplash.com/photo-1551183053-bf91a1d81141?w=800&h=500&fit=crop',
   'italian', ARRAY['winter'], 'base', 'free', 120, 240, 6, 1345, 189, TRUE),
  ('recipe-12', 'chef-1', 'Fermented Mushroom Garum',
   'A versatile fermented mushroom sauce inspired by ancient Roman garum, developed over months of fermentation.',
   'https://images.unsplash.com/photo-1504545102780-26774c1bb073?w=800&h=500&fit=crop',
   'nordic', ARRAY['all_season'], 'featured', 'free', 30, 43200, 20, 2100, 356, TRUE);

-- ===== Recipe Components =====
INSERT INTO recipe_components (id, recipe_id, name, image_url, instructions, sort_order) VALUES
  ('comp-1-1',  'recipe-1',  'Wild Herb Salad', '',
   'Gently wash and dry all foraged herbs. Arrange on chilled plates, mixing textures and colors. Reserve delicate flowers for garnish.', 1),
  ('comp-1-2',  'recipe-1',  'Fermented Plum Vinaigrette', '',
   'Blend fermented plums until smooth. Whisk in rapeseed oil slowly to emulsify. Season with sea salt and a touch of honey. Strain through fine mesh.', 2),
  ('comp-2-1',  'recipe-2',  'Buttermilk Snow', '',
   'Combine buttermilk with gellan gum. Set in a shallow tray and freeze. Scrape with a fork to create snow texture.', 1),
  ('comp-2-2',  'recipe-2',  'Sea Urchin & Assembly', '',
   'Clean sea urchin carefully. Place buttermilk snow in chilled bowls. Nestle sea urchin on top. Drizzle with dill oil and scatter crispy rye.', 2),
  ('comp-3-1',  'recipe-3',  'Parmigiano Foam (24-month)', '',
   'Infuse cream with 24-month Parmigiano rinds. Strain, season, and charge in a siphon with 2 N2O cartridges.', 1),
  ('comp-3-2',  'recipe-3',  'Parmigiano Soufflé (36-month)', '',
   'Prepare a classic soufflé base using béchamel and finely grated 36-month Parmigiano. Fold in whipped egg whites. Bake at 190°C for 12 minutes.', 2),
  ('comp-3-3',  'recipe-3',  'Parmigiano Crisp (50-month)', '',
   'Grate 50-month Parmigiano finely. Spread in thin circles on silicone mat. Bake at 180°C until golden and crispy.', 3),
  ('comp-4-1',  'recipe-4',  'Lemon Curd', '',
   'Whisk eggs, sugar, and lemon juice over bain-marie until thick. Remove from heat and whisk in cold butter pieces until glossy.', 1),
  ('comp-4-2',  'recipe-4',  'Shortcrust Crumble', '',
   'Make a classic pâte sucrée. Instead of lining a tart tin, crumble randomly onto a baking sheet. Bake until golden.', 2),
  ('comp-4-3',  'recipe-4',  'Meringue Shards', '',
   'Whip egg whites and sugar to stiff peaks. Spread thin on parchment and dry in oven at 90°C for 2 hours. Break into shards.', 3),
  ('comp-5-1',  'recipe-5',  'Abalone Preparation', '',
   'Tenderize abalone and slow-cook sous vide at 62°C for 4 hours. Slice thinly and sear briefly before serving.', 1),
  ('comp-5-2',  'recipe-5',  'Ocean Broth', '',
   'Simmer kelp, bonito, and coastal herbs for a clear, intensely oceanic broth. Strain and season with yuzu.', 2),
  ('comp-6-1',  'recipe-6',  'Brioche Dough', '',
   'Combine flour, eggs, sugar, yeast, and salt. Knead until smooth. Incorporate softened butter gradually. Rest overnight in refrigerator.', 1),
  ('comp-6-2',  'recipe-6',  'Lamination', '',
   'Roll out dough and enclose a butter block. Perform 3 single folds with 30-minute rests between each. Shape and proof for 2 hours. Bake at 175°C.', 2),
  ('comp-7-1',  'recipe-7',  'Burdock in Soil', '',
   'Wrap burdock root in sanitized charcoal-rich soil. Slow-roast at 160°C for 3 hours. The soil imparts an earthy mineral quality.', 1),
  ('comp-7-2',  'recipe-7',  'Forest Floor Assembly', '',
   'Create an edible soil from dehydrated mushrooms, rye bread, and miso. Plate the burdock and cover with edible soil. Garnish with micro herbs.', 2),
  ('comp-8-1',  'recipe-8',  'Cured Sakura Masu', '',
   'Cure the trout with salt, sugar, and preserved cherry blossom leaves for 24 hours. Rinse and slice thinly.', 1),
  ('comp-8-2',  'recipe-8',  'Cherry Blossom Gel & Garnish', '',
   'Make a gel from cherry blossom tea with agar. Set, dice, and arrange with yuzu zest and mountain herbs over the cured fish.', 2),
  ('comp-9-1',  'recipe-9',  'Potato Stones', '',
   'Boil small potatoes until just tender. Cool completely. Coat with a mixture of kaolin clay and olive oil to create a stone-like exterior.', 1),
  ('comp-9-2',  'recipe-9',  'Dipping Sauce', '',
   'Blend roasted peppers, smoked paprika, garlic, and olive oil. Season with sherry vinegar and serve alongside the stones.', 2),
  ('comp-10-1', 'recipe-10', 'Charred Onion Broth', '',
   'Halve onions and char cut-side down until completely black. Simmer in water for 3 hours. Strain through cheesecloth for a clear, smoky broth.', 1),
  ('comp-10-2', 'recipe-10', 'Mushroom Custard', '',
   'Infuse cream with dried porcini for 1 hour. Strain, combine with eggs. Pour into molds and steam at 85°C for 20 minutes.', 2),
  ('comp-11-1', 'recipe-11', 'Fresh Pasta Dough', '',
   'Combine 00 flour and eggs. Knead for 10 minutes until silky smooth. Rest wrapped for 30 minutes.', 1),
  ('comp-11-2', 'recipe-11', 'Filling & Assembly', '',
   'Mix ground pork, prosciutto, mortadella, and Parmigiano. Roll pasta thin, cut squares, fill and fold into tortellini shape.', 2),
  ('comp-11-3', 'recipe-11', 'Capon Broth', '',
   'Simmer capon with celery, carrot, and onion for 4 hours. Skim regularly. Strain and season. Cook tortellini directly in the broth.', 3),
  ('comp-12-1', 'recipe-12', 'Mushroom Preparation', '',
   'Combine mixed wild mushrooms with barley koji and 15% salt by weight. Pack tightly into fermentation vessel.', 1),
  ('comp-12-2', 'recipe-12', 'Fermentation & Pressing', '',
   'Ferment at 28°C for 90 days, stirring weekly. Strain through cheesecloth, pressing to extract all liquid. Pasteurize at 80°C and bottle.', 2);

-- ===== Ingredients =====
INSERT INTO ingredients (id, component_id, name, quantity, unit, sort_order) VALUES
  ('ing-1',  'comp-1-1', 'Mixed wild herbs', 200, 'g', 1),
  ('ing-2',  'comp-1-1', 'Edible flowers', 30, 'g', 2),
  ('ing-3',  'comp-1-1', 'Wood sorrel', 50, 'g', 3),
  ('ing-4',  'comp-1-2', 'Fermented plums', 100, 'g', 1),
  ('ing-5',  'comp-1-2', 'Rapeseed oil', 60, 'ml', 2),
  ('ing-6',  'comp-1-2', 'Honey', 10, 'g', 3),
  ('ing-7',  'comp-1-2', 'Sea salt', 2, 'g', 4),
  ('ing-8',  'comp-2-1', 'Buttermilk', 300, 'ml', 1),
  ('ing-9',  'comp-2-1', 'Gellan gum', 3, 'g', 2),
  ('ing-10', 'comp-2-2', 'Fresh sea urchin', 4, 'pcs', 1),
  ('ing-11', 'comp-2-2', 'Dill oil', 15, 'ml', 2),
  ('ing-12', 'comp-2-2', 'Crispy rye bread', 20, 'g', 3),
  ('ing-13', 'comp-3-1', 'Heavy cream', 250, 'ml', 1),
  ('ing-14', 'comp-3-1', 'Parmigiano Reggiano 24-month', 80, 'g', 2),
  ('ing-15', 'comp-3-2', 'Parmigiano Reggiano 36-month', 100, 'g', 1),
  ('ing-16', 'comp-3-2', 'Egg whites', 4, 'pcs', 2),
  ('ing-17', 'comp-3-2', 'Butter', 30, 'g', 3),
  ('ing-18', 'comp-3-2', 'Flour', 30, 'g', 4),
  ('ing-19', 'comp-3-2', 'Milk', 200, 'ml', 5),
  ('ing-20', 'comp-3-3', 'Parmigiano Reggiano 50-month', 60, 'g', 1),
  ('ing-21', 'comp-4-1', 'Lemons (juice & zest)', 4, 'pcs', 1),
  ('ing-22', 'comp-4-1', 'Eggs', 3, 'pcs', 2),
  ('ing-23', 'comp-4-1', 'Sugar', 150, 'g', 3),
  ('ing-24', 'comp-4-1', 'Cold butter', 100, 'g', 4),
  ('ing-25', 'comp-4-2', 'Flour', 200, 'g', 1),
  ('ing-26', 'comp-4-2', 'Butter', 100, 'g', 2),
  ('ing-27', 'comp-4-2', 'Sugar', 60, 'g', 3),
  ('ing-28', 'comp-4-2', 'Egg yolk', 1, 'pc', 4),
  ('ing-29', 'comp-4-3', 'Egg whites', 2, 'pcs', 1),
  ('ing-30', 'comp-4-3', 'Sugar', 100, 'g', 2),
  ('ing-31', 'comp-5-1', 'Fresh abalone', 2, 'pcs', 1),
  ('ing-32', 'comp-5-1', 'Sea salt', 5, 'g', 2),
  ('ing-33', 'comp-5-2', 'Kombu kelp', 20, 'g', 1),
  ('ing-34', 'comp-5-2', 'Bonito flakes', 30, 'g', 2),
  ('ing-35', 'comp-5-2', 'Coastal herbs', 15, 'g', 3),
  ('ing-36', 'comp-5-2', 'Yuzu juice', 10, 'ml', 4),
  ('ing-37', 'comp-6-1', 'Bread flour', 500, 'g', 1),
  ('ing-38', 'comp-6-1', 'Eggs', 5, 'pcs', 2),
  ('ing-39', 'comp-6-1', 'Sugar', 60, 'g', 3),
  ('ing-40', 'comp-6-1', 'Fresh yeast', 15, 'g', 4),
  ('ing-41', 'comp-6-1', 'Salt', 10, 'g', 5),
  ('ing-42', 'comp-6-1', 'Softened butter', 200, 'g', 6),
  ('ing-43', 'comp-6-2', 'Cold butter block', 250, 'g', 1),
  ('ing-44', 'comp-7-1', 'Burdock root', 4, 'pcs', 1),
  ('ing-45', 'comp-7-1', 'Charcoal-rich soil (food-safe)', 500, 'g', 2),
  ('ing-46', 'comp-7-2', 'Dried shiitake mushrooms', 30, 'g', 1),
  ('ing-47', 'comp-7-2', 'Rye bread', 50, 'g', 2),
  ('ing-48', 'comp-7-2', 'White miso', 20, 'g', 3),
  ('ing-49', 'comp-8-1', 'Sakura masu (cherry trout)', 300, 'g', 1),
  ('ing-50', 'comp-8-1', 'Sea salt', 30, 'g', 2),
  ('ing-51', 'comp-8-1', 'Sugar', 15, 'g', 3),
  ('ing-52', 'comp-8-1', 'Preserved cherry blossom leaves', 10, 'pcs', 4),
  ('ing-53', 'comp-8-2', 'Cherry blossom tea', 200, 'ml', 1),
  ('ing-54', 'comp-8-2', 'Agar agar', 2, 'g', 2),
  ('ing-55', 'comp-8-2', 'Yuzu zest', 5, 'g', 3),
  ('ing-56', 'comp-9-1', 'Small potatoes', 12, 'pcs', 1),
  ('ing-57', 'comp-9-1', 'Kaolin clay (food-grade)', 50, 'g', 2),
  ('ing-58', 'comp-9-1', 'Olive oil', 30, 'ml', 3),
  ('ing-59', 'comp-9-2', 'Roasted red peppers', 200, 'g', 1),
  ('ing-60', 'comp-9-2', 'Smoked paprika', 5, 'g', 2),
  ('ing-61', 'comp-9-2', 'Garlic', 2, 'cloves', 3),
  ('ing-62', 'comp-9-2', 'Sherry vinegar', 15, 'ml', 4),
  ('ing-63', 'comp-10-1', 'Large onions', 6, 'pcs', 1),
  ('ing-64', 'comp-10-1', 'Water', 2, 'L', 2),
  ('ing-65', 'comp-10-2', 'Heavy cream', 200, 'ml', 1),
  ('ing-66', 'comp-10-2', 'Dried porcini', 30, 'g', 2),
  ('ing-67', 'comp-10-2', 'Eggs', 2, 'pcs', 3),
  ('ing-68', 'comp-11-1', '00 flour', 400, 'g', 1),
  ('ing-69', 'comp-11-1', 'Eggs', 4, 'pcs', 2),
  ('ing-70', 'comp-11-2', 'Ground pork', 150, 'g', 1),
  ('ing-71', 'comp-11-2', 'Prosciutto di Parma', 80, 'g', 2),
  ('ing-72', 'comp-11-2', 'Mortadella', 80, 'g', 3),
  ('ing-73', 'comp-11-2', 'Parmigiano Reggiano', 60, 'g', 4),
  ('ing-74', 'comp-11-3', 'Capon', 1, 'whole', 1),
  ('ing-75', 'comp-11-3', 'Celery', 2, 'stalks', 2),
  ('ing-76', 'comp-11-3', 'Carrot', 1, 'pc', 3),
  ('ing-77', 'comp-11-3', 'Onion', 1, 'pc', 4),
  ('ing-78', 'comp-12-1', 'Mixed wild mushrooms', 1000, 'g', 1),
  ('ing-79', 'comp-12-1', 'Barley koji', 200, 'g', 2),
  ('ing-80', 'comp-12-1', 'Sea salt', 180, 'g', 3),
  ('ing-81', 'comp-12-2', 'Cheesecloth', 1, 'sheet', 1);

-- ===== Collections =====
INSERT INTO collections (id, title, description, cover_image_url, is_bocuse_official, sort_order) VALUES
  ('coll-1', 'Bocuse d''Or Masterworks',
   'A curated collection of legendary dishes from past Bocuse d''Or competitors and winners.',
   'https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=800&h=400&fit=crop',
   TRUE, 1),
  ('coll-2', 'Nordic New Wave',
   'The best of Scandinavian innovation — foraging, fermentation, and fire.',
   'https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=800&h=400&fit=crop',
   FALSE, 2),
  ('coll-3', 'Dessert Revolution',
   'Boundary-pushing desserts that redefine the sweet course.',
   'https://images.unsplash.com/photo-1519915028121-7d3463d20b13?w=800&h=400&fit=crop',
   FALSE, 3);

-- ===== Collection Recipes =====
INSERT INTO collection_recipes (id, collection_id, recipe_id, sort_order) VALUES
  ('cr-1', 'coll-1', 'recipe-1',  1),
  ('cr-2', 'coll-1', 'recipe-3',  2),
  ('cr-3', 'coll-1', 'recipe-5',  3),
  ('cr-4', 'coll-1', 'recipe-7',  4),
  ('cr-5', 'coll-2', 'recipe-1',  1),
  ('cr-6', 'coll-2', 'recipe-2',  2),
  ('cr-7', 'coll-2', 'recipe-12', 3),
  ('cr-8', 'coll-3', 'recipe-4',  1),
  ('cr-9', 'coll-3', 'recipe-6',  2);
